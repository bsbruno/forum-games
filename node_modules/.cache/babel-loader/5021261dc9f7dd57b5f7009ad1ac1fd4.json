{"ast":null,"code":"import _objectSpread from\"C:/Users/jogos/Desktop/forum-game/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"C:/Users/jogos/Desktop/forum-game/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _objectWithoutProperties from\"C:/Users/jogos/Desktop/forum-game/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";import React,{useRef,useState}from\"react\";import*as S from\"./styled\";import{useField}from\"@unform/core\";import{useEffect}from\"react\";import{useCallback}from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";// eslint-disable-next-line react/prop-types\nvar Input=function Input(_ref){var name=_ref.name,Icon=_ref.icon,rest=_objectWithoutProperties(_ref,[\"name\",\"icon\"]);var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isFocused=_useState2[0],setIsFocused=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),isFilled=_useState4[0],setIsFilled=_useState4[1];var inputRef=useRef(null);var _useField=useField(name),fieldName=_useField.fieldName,defaultValue=_useField.defaultValue,error=_useField.error,registerField=_useField.registerField;var handleInputBlur=useCallback(function(){var _inputRef$current;setIsFocused(false);setIsFilled(!!((_inputRef$current=inputRef.current)===null||_inputRef$current===void 0?void 0:_inputRef$current.value));},[]);var handleIsFocus=useCallback(function(){setIsFocused(true);},[]);useEffect(function(){registerField({name:fieldName,ref:inputRef.current,path:\"value\"});},[fieldName,registerField]);return/*#__PURE__*/_jsxs(S.Wrapper,{isErrored:!!error,isFilled:isFilled,isFocused:isFocused,children:[Icon&&/*#__PURE__*/_jsx(Icon,{size:20}),/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({type:\"text\",ref:inputRef,defaultValue:defaultValue},rest),{},{onFocus:handleIsFocus,onBlur:handleInputBlur})),error&&/*#__PURE__*/_jsx(S.Error,{children:/*#__PURE__*/_jsxs(\"span\",{children:[error,\" \"]})})]});};export default Input;","map":{"version":3,"sources":["C:/Users/jogos/Desktop/forum-game/frontend/src/components/Input/index.tsx"],"names":["React","useRef","useState","S","useField","useEffect","useCallback","Input","name","Icon","icon","rest","isFocused","setIsFocused","isFilled","setIsFilled","inputRef","fieldName","defaultValue","error","registerField","handleInputBlur","current","value","handleIsFocus","ref","path"],"mappings":"sfAAA,MAAOA,CAAAA,KAAP,EAAgBC,MAAhB,CAAwBC,QAAxB,KAAwC,OAAxC,CAEA,MAAO,GAAKC,CAAAA,CAAZ,KAAmB,UAAnB,CAEA,OAASC,QAAT,KAAyB,cAAzB,CACA,OAASC,SAAT,KAA0B,OAA1B,CACA,OAASC,WAAT,KAA4B,OAA5B,C,wFAQA;AACA,GAAMC,CAAAA,KAA2B,CAAG,QAA9BA,CAAAA,KAA8B,MAAmC,IAAhCC,CAAAA,IAAgC,MAAhCA,IAAgC,CAApBC,IAAoB,MAA1BC,IAA0B,CAAXC,IAAW,8DACnCT,QAAQ,CAAC,KAAD,CAD2B,wCAC9DU,SAD8D,eACnDC,YADmD,8BAErCX,QAAQ,CAAC,KAAD,CAF6B,yCAE9DY,QAF8D,eAEpDC,WAFoD,eAIrE,GAAMC,CAAAA,QAAQ,CAAGf,MAAM,CAAmB,IAAnB,CAAvB,CAJqE,cAMXG,QAAQ,CAACI,IAAD,CANG,CAM7DS,SAN6D,WAM7DA,SAN6D,CAMlDC,YANkD,WAMlDA,YANkD,CAMpCC,KANoC,WAMpCA,KANoC,CAM7BC,aAN6B,WAM7BA,aAN6B,CAOrE,GAAMC,CAAAA,eAAe,CAAGf,WAAW,CAAC,UAAM,uBACxCO,YAAY,CAAC,KAAD,CAAZ,CAEAE,WAAW,CAAC,CAAC,qBAACC,QAAQ,CAACM,OAAV,4CAAC,kBAAkBC,KAAnB,CAAF,CAAX,CACD,CAJkC,CAIhC,EAJgC,CAAnC,CAMA,GAAMC,CAAAA,aAAa,CAAGlB,WAAW,CAAC,UAAM,CACtCO,YAAY,CAAC,IAAD,CAAZ,CACD,CAFgC,CAE9B,EAF8B,CAAjC,CAIAR,SAAS,CAAC,UAAM,CACde,aAAa,CAAC,CACZZ,IAAI,CAAES,SADM,CAEZQ,GAAG,CAAET,QAAQ,CAACM,OAFF,CAGZI,IAAI,CAAE,OAHM,CAAD,CAAb,CAKD,CANQ,CAMN,CAACT,SAAD,CAAYG,aAAZ,CANM,CAAT,CAQA,mBACE,MAAC,CAAD,CAAG,OAAH,EAAW,SAAS,CAAE,CAAC,CAACD,KAAxB,CAA+B,QAAQ,CAAEL,QAAzC,CAAmD,SAAS,CAAEF,SAA9D,WACGH,IAAI,eAAI,KAAC,IAAD,EAAM,IAAI,CAAE,EAAZ,EADX,cAEE,0CACE,IAAI,CAAC,MADP,CAEE,GAAG,CAAEO,QAFP,CAGE,YAAY,CAAEE,YAHhB,EAIMP,IAJN,MAKE,OAAO,CAAEa,aALX,CAME,MAAM,CAAEH,eANV,GAFF,CAUGF,KAAK,eACJ,KAAC,CAAD,CAAG,KAAH,wBACE,wBAAOA,KAAP,OADF,EAXJ,GADF,CAkBD,CA3CD,CA6CA,cAAeZ,CAAAA,KAAf","sourcesContent":["import React, { useRef, useState } from \"react\";\nimport { InputHTMLAttributes } from \"react\";\nimport * as S from \"./styled\";\nimport { IconBaseProps } from \"react-icons\";\nimport { useField } from \"@unform/core\";\nimport { useEffect } from \"react\";\nimport { useCallback } from \"react\";\ntype InputTypes = InputHTMLAttributes<HTMLInputElement>;\n\ntype InputProps = {\n  name: string;\n  icon?: React.ComponentType<IconBaseProps>;\n} & InputTypes;\n\n// eslint-disable-next-line react/prop-types\nconst Input: React.FC<InputProps> = ({ name, icon: Icon, ...rest }) => {\n  const [isFocused, setIsFocused] = useState(false);\n  const [isFilled, setIsFilled] = useState(false);\n\n  const inputRef = useRef<HTMLInputElement>(null);\n\n  const { fieldName, defaultValue, error, registerField } = useField(name);\n  const handleInputBlur = useCallback(() => {\n    setIsFocused(false);\n\n    setIsFilled(!!inputRef.current?.value);\n  }, []);\n\n  const handleIsFocus = useCallback(() => {\n    setIsFocused(true);\n  }, []);\n\n  useEffect(() => {\n    registerField({\n      name: fieldName,\n      ref: inputRef.current,\n      path: \"value\",\n    });\n  }, [fieldName, registerField]);\n\n  return (\n    <S.Wrapper isErrored={!!error} isFilled={isFilled} isFocused={isFocused}>\n      {Icon && <Icon size={20} />}\n      <input\n        type=\"text\"\n        ref={inputRef}\n        defaultValue={defaultValue}\n        {...rest}\n        onFocus={handleIsFocus}\n        onBlur={handleInputBlur}\n      />\n      {error && (\n        <S.Error>\n          <span>{error} </span>\n        </S.Error>\n      )}\n    </S.Wrapper>\n  );\n};\n\nexport default Input;\n"]},"metadata":{},"sourceType":"module"}