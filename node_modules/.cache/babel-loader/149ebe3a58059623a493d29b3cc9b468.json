{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/jogos/Desktop/forum-game/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/jogos/Desktop/forum-game/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";/* eslint-disable @typescript-eslint/ban-types */ /* eslint-disable @typescript-eslint/explicit-module-boundary-types */import React,{useCallback,useRef}from\"react\";import Logo from\"../../components/Logo\";import Button from\"../../components/Button\";import{Link,useHistory}from\"react-router-dom\";import Input from\"../../components/Input\";import{FiMail,FiUser,FiLock,FiAward}from\"react-icons/fi\";import{Form}from\"@unform/web\";import*as S from\"./stlyed\";import*as Yup from\"yup\";import getValidationErros from\"../../utils/getValidationErros\";import api from\"../../services/api\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var SignUp=function SignUp(){var formRef=useRef(null);var history=useHistory();var handleSubmit=useCallback(/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(data){var _formRef$current,schema,_formRef$current2,errors;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;(_formRef$current=formRef.current)===null||_formRef$current===void 0?void 0:_formRef$current.setErrors({});schema=Yup.object().shape({name:Yup.string().required(\"Nome Obrigatorio\"),nickname:Yup.string().required(\"Apelido Obrigatorio\"),email:Yup.string().required(\"Email Obrigatorio\").email(\"Digite um E-mail valido\"),password:Yup.string().min(6,\"No minimo 6 digitos \")});_context.next=5;return schema.validate(data,{abortEarly:false});case 5:_context.next=7;return api.post(\"/users\",data);case 7:history.push(\"/\");_context.next=13;break;case 10:_context.prev=10;_context.t0=_context[\"catch\"](0);if(_context.t0 instanceof Yup.ValidationError){errors=getValidationErros(_context.t0);(_formRef$current2=formRef.current)===null||_formRef$current2===void 0?void 0:_formRef$current2.setErrors(errors);}case 13:case\"end\":return _context.stop();}}},_callee,null,[[0,10]]);}));return function(_x){return _ref.apply(this,arguments);};}(),[history]);return/*#__PURE__*/_jsxs(S.Wrapper,{children:[/*#__PURE__*/_jsx(S.Background,{children:/*#__PURE__*/_jsxs(S.BackgroundText,{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Lorem Ipsum\"}),/*#__PURE__*/_jsxs(\"p\",{children:[\"is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the \",/*#__PURE__*/_jsx(\"strong\",{children:\"standard dummy text ever\"}),\" since the 1500s, when an unknown printer took a galley of type and scrambled\"]})]})}),/*#__PURE__*/_jsxs(S.Content,{children:[/*#__PURE__*/_jsx(Logo,{size:\"large\",hiddenText:true}),/*#__PURE__*/_jsxs(Form,{ref:formRef,onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Crie Sua Conta \"}),/*#__PURE__*/_jsx(Input,{name:\"name\",icon:FiUser,type:\"text\",placeholder:\"Nome\"}),/*#__PURE__*/_jsx(Input,{name:\"nickname\",icon:FiAward,type:\"text\",placeholder:\"Apelido\"}),/*#__PURE__*/_jsx(Input,{name:\"email\",icon:FiMail,type:\"email\",placeholder:\"E-mail\"}),/*#__PURE__*/_jsx(Input,{name:\"password\",icon:FiLock,type:\"password\",placeholder:\"Senha\"}),/*#__PURE__*/_jsx(Button,{color:\"secondary\",type:\"submit\",children:\"Criar Conta\"}),/*#__PURE__*/_jsxs(\"span\",{children:[\"J\\xE1 tem uma conta ? \",/*#__PURE__*/_jsx(Link,{to:\"/\",children:\"Logar\"})]})]})]})]});};export default SignUp;","map":{"version":3,"sources":["C:/Users/jogos/Desktop/forum-game/frontend/src/pages/SignUp/index.tsx"],"names":["React","useCallback","useRef","Logo","Button","Link","useHistory","Input","FiMail","FiUser","FiLock","FiAward","Form","S","Yup","getValidationErros","api","SignUp","formRef","history","handleSubmit","data","current","setErrors","schema","object","shape","name","string","required","nickname","email","password","min","validate","abortEarly","post","push","ValidationError","errors"],"mappings":"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","sourcesContent":["/* eslint-disable @typescript-eslint/ban-types */\n/* eslint-disable @typescript-eslint/explicit-module-boundary-types */\nimport React, { useCallback, useRef } from \"react\";\nimport Logo from \"../../components/Logo\";\nimport { FormHandles } from \"@unform/core\";\nimport Button from \"../../components/Button\";\nimport { Link, useHistory } from \"react-router-dom\";\nimport Input from \"../../components/Input\";\nimport { FiMail, FiUser, FiLock, FiAward } from \"react-icons/fi\";\nimport { Form } from \"@unform/web\";\nimport * as S from \"./stlyed\";\nimport * as Yup from \"yup\";\nimport getValidationErros from \"../../utils/getValidationErros\";\nimport api from \"../../services/api\";\n\ntype SignUpFormData = {\n  name: string;\n  nickName: string;\n  email: string;\n  password: string;\n};\n\nconst SignUp = () => {\n  const formRef = useRef<FormHandles>(null);\n  const history = useHistory();\n\n  const handleSubmit = useCallback(\n    async (data: SignUpFormData) => {\n      try {\n        formRef.current?.setErrors({});\n        const schema = Yup.object().shape({\n          name: Yup.string().required(\"Nome Obrigatorio\"),\n          nickname: Yup.string().required(\"Apelido Obrigatorio\"),\n          email: Yup.string()\n            .required(\"Email Obrigatorio\")\n            .email(\"Digite um E-mail valido\"),\n          password: Yup.string().min(6, \"No minimo 6 digitos \"),\n        });\n        await schema.validate(data, {\n          abortEarly: false,\n        });\n\n        await api.post(\"/users\", data);\n        history.push(\"/\");\n      } catch (err) {\n        if (err instanceof Yup.ValidationError) {\n          const errors = getValidationErros(err);\n          formRef.current?.setErrors(errors);\n        }\n      }\n    },\n    [history]\n  );\n\n  return (\n    <S.Wrapper>\n      <S.Background>\n        <S.BackgroundText>\n          <h1>Lorem Ipsum</h1>\n          <p>\n            is simply dummy text of the printing and typesetting industry. Lorem\n            Ipsum has been the <strong>standard dummy text ever</strong> since\n            the 1500s, when an unknown printer took a galley of type and\n            scrambled\n          </p>\n        </S.BackgroundText>\n      </S.Background>\n      <S.Content>\n        <Logo size=\"large\" hiddenText={true} />\n        <Form ref={formRef} onSubmit={handleSubmit}>\n          <h2>Crie Sua Conta </h2>\n          <Input name=\"name\" icon={FiUser} type=\"text\" placeholder=\"Nome\" />\n          <Input\n            name=\"nickname\"\n            icon={FiAward}\n            type=\"text\"\n            placeholder=\"Apelido\"\n          />\n\n          <Input name=\"email\" icon={FiMail} type=\"email\" placeholder=\"E-mail\" />\n\n          <Input\n            name=\"password\"\n            icon={FiLock}\n            type=\"password\"\n            placeholder=\"Senha\"\n          />\n\n          <Button color=\"secondary\" type=\"submit\">\n            Criar Conta\n          </Button>\n          <span>\n            JÃ¡ tem uma conta ? <Link to=\"/\">Logar</Link>\n          </span>\n        </Form>\n      </S.Content>\n    </S.Wrapper>\n  );\n};\n\nexport default SignUp;\n"]},"metadata":{},"sourceType":"module"}